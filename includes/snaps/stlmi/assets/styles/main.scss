@import '../../../../../assets/styles/source/rules';

//--------------------------------------------------------------
// Variables
//--------------------------------------------------------------
:root {

    /* Colors */
	--global--color-black: #000;
	--global--color-dark-gray: #333333;
	--global--color-gray: #39414d;
	--global--color-label-gray: #828282;
	--global--color-light-gray: #f0f0f0;

	--global--color-green: #227629;
	--global--color-light-green: #6DDB9C;
	--global--color-light-green-25: hsla(146, 60%, 64%, 0.25);
	--global--color-red: #FF0000;

	--global--color-white: #fff;
	--global--color-white-50: rgba(255, 255, 255, 0.5);
	--global--color-white-90: rgba(255, 255, 255, 0.9);

	--global--color-primary: var(--global--color-dark-gray);

	/* Body text color, site title, footer text color. */
	--global--color-secondary: var(--global--color-gray);

	/* Headings */
	--global--color-primary-hover: var(--global--color-primary);
	--global--color-background: var(--global--color-green);

	/* Mint, default body background */
	--global--color-border: var(--global--color-primary);

	--global--corner-radius-card-m: 1em;
	--global--corner-radius-card-s: .75em;
	--global--corner-radius-form: .5em;

	--testimonies-slide-height-sm: 160px;
	--testimonies-slide-height-md: 240px;

	--slider-arrow-dimensions: 2rem;
	--slider-arrow-pad: 1rem;

	--hero-slider-offset: 0;

	@include media(tablet) {
		--hero-slider-offset: 160px;
	}
	
	@include media(laptop) {
		--hero-slider-offset: 240px;
	}
}

body,
button,
input,
select,
textarea {
	font-family: Georgia, 'Times New Roman', Times, serif;
}

/*
.ntt {

	input[type="text"],
	input[type="email"],
	input[type="search"] {
		min-height: 56px;
		border: 0;
		border-radius: var(--global--corner-radius-form);
		background-color: var(--global--color-white);
	}
}
*/

.hero-color-overlay {
	background: #EB5757;
	mix-blend-mode: lighten;
	opacity: 0.8;
}

.card---label-in--color-overlay {
	background: linear-gradient(90deg, #227629 0%, rgba(34, 118, 41, 0.25) 100%);
	opacity: 0.85;
}

.color-overlay {
	content: '';
	display: block;
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	z-index: 1;
}

.hero-text {
	font-size: 36px;

	@include media(tablet) {
		font-size: 56px;
	}

	color: #FFFFFF;
	text-shadow: 0px 0px 24px rgba(0, 0, 0, 0.75);
	
}

//--------------------------------------------------------------
// Link
//--------------------------------------------------------------
a {
	color: var(--global--color-green);
}

//--------------------------------------------------------------
// Button
//--------------------------------------------------------------
.ntt {

	.wp-block-button__link,
	.wp-block-search .wp-block-search__button  {
		display: flex;
		justify-content: center;
		align-items: center;
		padding: .667em 1.333em;
		min-height: 56px;
		background: var(--global--color-light-green);
		box-shadow: 0px 0px 9px rgba(0, 0, 0, 0.1);
		border-radius: var(--global--corner-radius-form);
		
		font-size: 18px;
		text-align: center;
		color: var(--global--color-dark-gray);
	}

	.wp-block-button__link {

		&:hover {
			text-decoration: none;
			color: var(--global--color-dark-gray);
		}
	}

	.wp-block-search {
		width: 100%;	
		max-width: 320px;	
		
		.wp-block-search__button {
			margin: 0;
			border: 0;
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		.wp-block-search__input {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;

			&::placeholder {
				color: var(--global--color-gray);
			}
		}
	}

	.wp-block-media-text .wp-block-media-text__media {
		align-self: auto;
	}
}

//--------------------------------------------------------------
// Navigation
//--------------------------------------------------------------
.current-menu-item,
.current_page_item {
	font-weight: bold;

	a {
		color: var(--global--color-black);
	}
}

//--------------------------------------------------------------
// Entity Header
//--------------------------------------------------------------
.ntt--entity-header {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
}

.ntt--entity-header-aside {
	flex: 1 100%;
	background-color: var(--global--color-green);

	@include media(tablet) {
		order: -1;
	}

	@at-root .ntt & .ntt--widget {
		@include y-padding(.5rem);
	}

	@at-root .ntt--page--view:not(.ntt--page--home--view) & .widget_search {
		display: none;
	}
}

.ntt--entity-heading {
	display: flex;
	align-items: center;
	align-self: center;
}

.ntt--entity-logo {

	img {
		width: auto;
		max-width: none;
		height: 64px;

		@include media(tablet) {
			height: 96px;
		}
	}
}

.ntt--entity-primary-nav {
	align-self: center;
}

.widget_search {
    display: flex;
    justify-content: flex-end;
	
	@at-root .ntt & form {
		margin-top: 0;
		max-width: 320px;
	}	

	label {
		display: none;
	}
}

//--------------------------------------------------------------
// Page Cover Image
//--------------------------------------------------------------
.ntt .wp-block-cover {
	min-height: 240px;
	z-index: 0;
}

//--------------------------------------------------------------
// Entry Header
//--------------------------------------------------------------
.ntt--page--home--view {

	.ntt--entry-header {
		display: none;
	}	
}

//--------------------------------------------------------------
// Splide Slider
//--------------------------------------------------------------
.ntt .slider {
	padding: 0;
}

.splide__slide {
	
	img {
		width: 100%;
		height: auto;
	}
}

.splide__arrow,
.splide__pagination__page {
	min-height: auto;
}

//--------------------------------------------------------------
// Card
//--------------------------------------------------------------
.ntt .card {
	display: flex;
	flex-grow: 1;
	padding: 0;
	margin: 0;
	border-radius: var(--global--corner-radius-card-m);

	.wp-block-image {
		margin: 0;
	}

	figure,
	img {
		width: 100%;
	}

	figure {
		display: flex;
		overflow: hidden;
	}

	img {
		object-fit: cover;
		transform: scale(1.1);
	}
}

//--------------------------------------------------------------
// Card - Label In
//--------------------------------------------------------------
.ntt .card---label-in {
	justify-content: center;
	flex-grow: 1;
	height: 160px;
	position: relative;
	overflow: hidden;

	@include media(tablet) {		
		height: 240px;
	}

	figure {
		position: relative;
		margin: 0;
	
		// Color overlay
		&:before {
			@extend .color-overlay;
			@extend .card---label-in--color-overlay;
		}
	}

	.wp-block-media-text__content {
		display: contents;

		p {
			display: contents;
		}

		a {
			display: flex;
			justify-content: center;
			align-items: center;		
			width: 100%;
			height: 100%;
			position: absolute;
			z-index: 1;
		}
	}

	.heading {
		font-size: 24px;
		color: var(--global--color-white);
		text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);

		a {
			color: var(--global--color-white);
		}
	}
}

//--------------------------------------------------------------
// Card - Content
//--------------------------------------------------------------
.ntt .card---content {
	display: block;
	gap: 1rem;
	padding: 1rem;
	background: var(--global--color-white);
	border: 1px solid var(--global--color-light-gray);
	box-sizing: border-box;
	box-shadow: 0px 0px 9px rgba(0, 0, 0, 0.1);

	@include media(tablet) {		
		display: flex;
	}

	figure {
		width: 100%;
		height: 160px;
		order: -1;
		border-radius: var(--global--corner-radius-card-s);

		@include media(tablet) {		
			max-width: 160px;
		}
	}

	.wp-block-media-text__content {
		@include x-padding(0);
	}

	.wp-block-button__link {
		margin-top: 1em;
	}

	p {
		color: var(--global--color-label-gray);
	}

	.heading {
		font-size: 24px;

		@include media(tablet) {
			margin: 0;
		}

		a {
			color: var(--global--color-green);
		}
	}
}

//--------------------------------------------------------------
// Card - Label Out
//--------------------------------------------------------------
.card---label-out {
	flex-direction: column;
	gap: 1rem;
	text-align: center;

	.content {
		display: flex;
		flex-direction: column;
		gap: .25rem;
	}

	figure {
		order: -1;

		a {
			width: 100%;
		}
	}

	.heading {
		margin: 0;
		font-size: 24px;
		font-weight: bold;
	}

	.sub-heading {
		margin: 0;
		text-transform: uppercase;
		color: var(--global--color-label-gray);
	}
}

//--------------------------------------------------------------
// NTT Percept in Home View
//--------------------------------------------------------------
.ntt--page--home--view {

	.ntt--entry-full-content {

		.ntt--entry-name {
			font-size: 36px;

			a {
				color: var(--global--color-black);
			}
		}
	
		.ntt--percept--entry-content {
			display: flex;
			flex-wrap: wrap;
			gap: 1rem;
			width: 100%;

			> .heading {
				flex: 1 100%;
				text-align: center;
				font-size: 24px;
				color: var(--global--color-label-gray);
			}
		}
	}
}

//--------------------------------------------------------------
// Entity Footer
//--------------------------------------------------------------
.ntt--entity-secondary-info {

	@include media(laptop) {
		text-align: left;
	}
}

//--------------------------------------------------------------
// Entity Secondary Info
//--------------------------------------------------------------
 .ntt--entity-secondary-info {
	 padding-top: 3em;
 }

//--------------------------------------------------------------
// Page View
//--------------------------------------------------------------
.ntt--page--view {

	.ntt--entry-header {
		display: none;
	}

	.ntt--entry-main {
		margin-top: 0;
	}

	.ntt--entry-md {

		> .ntt--entry {
			padding-top: 0;
		}
	}
}

//--------------------------------------------------------------
// Content Width
//--------------------------------------------------------------
.ntt--entry-full-content {
						
	> .ntt--percept {
		@include x-margin(auto);
		max-width: $breakpoint_lg;

		.ntt--entry-name a {
			pointer-events: none;
		}
	}
}

.ntt--page--stlmi-online-registration--view,
.ntt--page--certificate-programs--view,
.ntt--page--discipleship--view,
.ntt--page--outreaches--view {

	.ntt--entry-md {

		> .ntt--entry {
			
			> .ntt--entry-header,
			> .ntt--entry-main > .ntt--entry-content > .ntt--entry-full-content {
				
				> * {
					@include x-margin(auto);
					max-width: $breakpoint_lg;
				}

				> .ntt--entry-heading {
					display: block;
				}

				> .wp-block-cover {
					max-width: none;
				}
			}
		}
	}
}

//--------------------------------------------------------------
// Events, Online Services
//--------------------------------------------------------------
.ntt--page--home--view {

	.ntt--page--events-online-services {
		display: flex;
		justify-content: center;
		margin-top: calc(var(--hero-slider-offset) * -1);
		padding-top: 2em;
		width: 100%;
		position: relative;
		z-index: 1;

		@include media(tablet) {
			padding-top: 0;
		}

		.ntt--entry-name {
			display: none;
		}
		
		.ntt--entry-content {
			max-width: $breakpoint_lg;

			@include media(tablet) {
				flex-wrap: nowrap;
			}
		}

		figure {
			height: 100%;
		}
	}
}

//--------------------------------------------------------------
// Most Recent
//--------------------------------------------------------------
.ntt--page--home--view {
	
	.ntt--page--most-recent {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: 1rem;

		.ntt--entry-content {
			max-width: $breakpoint_lg;

			@include media(tablet) {
				flex-wrap: wrap;
				justify-content: center;
			}
		}
	}
}

//--------------------------------------------------------------
// Testimonies
//--------------------------------------------------------------
.ntt--page--home--view {
	
	.ntt--page--testimonies {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: 0;
		max-width: none;

		.ntt--entry-content {

			@include media(tablet) {
				flex-wrap: wrap;
				justify-content: center;
			}
		}

		.wp-block-media-text__media {
			border-radius: var(--global--corner-radius-card-m);
		}
	}

	.testimonies-slider {

		width: 100%;
		margin-top: 0;
		@include x-padding(.5rem);

		figure {
			height: var(--testimonies-slide-height-sm);

			@include media(laptop) {
				height: var(--testimonies-slide-height-md);
			}
		}

		.splide__slide {
			@include x-padding(.5rem);
		}

		.splide__arrow {
			top: calc(var(--testimonies-slide-height-sm) / 2);

			@include media(laptop) {
				top: calc(var(--testimonies-slide-height-md) / 2);
			}
			
		}

		.splide__arrow--prev {
			left: calc(var(--slider-arrow-pad) + 1em);
		}

		.splide__arrow--next {
			right: calc(var(--slider-arrow-pad) + 1em);
		}
	}
}

//--------------------------------------------------------------
// Pastors
//--------------------------------------------------------------
.ntt--page--pastors {

	.ntt--entry-content {

		@include media(tablet) {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}
	}

	.ntt--entry-name {
		text-align: center;
	}

	.wp-block-media-text {

		@include media(tablet) {
			flex: 1 calc(100% / 2);
		}

		@include media(laptop) {
			flex: 1 calc(100% / 3);
		}

		&.pastors-bishop {
			flex: 1 100%;
		}
	}	
}

//--------------------------------------------------------------
// Hero Slider
//--------------------------------------------------------------
.ntt--page--home--view {
	
	.ntt--page--hero-slider {
		margin: 0;
		padding: 0;
		max-width: none;

		.ntt--entry-name {
			display: none;
		}

		.heading {
			@extend .hero-text;
		}
	}

	.hero-slider {
		
		.splide__list {
			height: 320px;

			@include media(tablet) {
				height: 480px;
			}

			@include media(laptop) {
				height: 640px;
			}
		}

		.splide__track {

			@include media(tablet) {
				position: relative;

				// Fade to white gradient
				&:after {
					content: '';
					display: block;
					width: 100%;
					height: var(--hero-slider-offset);
					position: absolute;
					bottom: 0;
					background: linear-gradient(transparent, #fff) left repeat; 
				}
			}
		}

		.wp-block-media-text {
			display: contents;
		}

		.wp-block-media-text__content {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			flex-grow: 1;
			padding-bottom: var(--hero-slider-offset);
			padding-left: calc(1rem + var(--slider-arrow-dimensions) + var(--slider-arrow-pad));
			padding-right: calc(1rem + var(--slider-arrow-dimensions) + var(--slider-arrow-pad));
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0;
			z-index: 1;

			.heading {
				margin: 0;
				text-align: center;
			}
		}

		.wp-block-button {
			@include y-margin(1em);
		}

		.splide__slide {

			figure,
			img {
				height: 100%;
			}

			figure {
				position: relative;
				margin: 0;
			
				// Color overlay
				&:before {
					@extend .color-overlay;
					@extend .hero-color-overlay;
				}
			}

			img {
				object-fit: cover;
				object-position: center;
			}
		}

		.splide__arrow {
			margin-top: calc(calc(var(--hero-slider-offset) / 2) * -1);
			width: var(--slider-arrow-dimensions);
			height: var(--slider-arrow-dimensions);
		}

		.splide__arrow--prev {
			left: var(--slider-arrow-pad);
		}

		.splide__arrow--next {
			right: var(--slider-arrow-pad);
		}

		.splide__pagination {
			margin-bottom: 1rem;
			bottom: var(--hero-slider-offset);
		}
	}
}

//--------------------------------------------------------------
// Hero Image
//--------------------------------------------------------------
.ntt .wp-block-cover.has-background-dim {

	&:before {
		@extend .hero-color-overlay;
	}
}

//--------------------------------------------------------------
// Footer
//--------------------------------------------------------------
.ntt--page--footer {
	margin: 0;

	> .ntt--entry-name {
		display: none;
	}

	> .ntt--entry-content {
	
		@include media(laptop) {
			display: flex;
		}
		
		.ntt--widget {
			display: contents;
		}

		.ntt--page {
			margin: 0;
			padding: 1rem;
		}
	}
}

//--------------------------------------------------------------
// Footer Menu
//--------------------------------------------------------------
.ntt--entity-footer-aside {

	.ntt--page--footer-menu {
		flex: 1 100%;

		.ntt--entry-name {
			display: none;
		}

		ul,
		li {			
			margin: 0;
			padding: 0;
		}

		li {
			list-style-type: none;
			margin-top: 1em;

			&:before {
				content: '\200B';
			}
		}

		.ntt--entry-content {

			> ul {
				padding-left: 0;
				@include media(tablet) {
					display: flex;
					gap: 1em;
				}

				> li {
					margin-top: 2.5em;

					@include media(tablet) {
						flex-grow: 1;
					}
				}
			}
		}
	}
}

//--------------------------------------------------------------
// Newsletter, Social Media
//--------------------------------------------------------------
.ntt--entity-footer-aside {

	.ntt--page--footer {

		.ntt--page--newsletter-social-media {
			flex: 1 100%;
			margin-top: 3em;

			@include media(laptop) {
				margin-top: 2em;
			}

			.ntt--entry-name {
				display: none;
			}

			> .ntt--entry-content {
				padding: 1em .5em;
				background-color: var(--global--color-light-green-25);
				border-radius: var(--global--corner-radius-card-s);
			}

			.heading {
				font-weight: bold;
			}
		}

		.ntt--page--email-newsletter {

			.contact-form {
				display: flex;
				flex-direction: column;

				@include media(tablet) {
					flex-direction: initial;
				}

				label {
					@include vh;
				}

				br {
					display: none;
				}

				.grunion-field-email-wrap {
					width: 100%;
				}

				.wp-block-button {
					white-space: nowrap;
				}

				input {

					@include media(tablet) {
						border-top-right-radius: 0;
						border-bottom-right-radius: 0;
					}
				}

				button {
					margin-top: 1em;

					@include media(tablet) {
						margin-top: 0;
						border-top-left-radius: 0;
						border-bottom-left-radius: 0;
					}
				}
			}
		}

		.ntt--page--social-media {

			.ntt--entry-content {

				ul {
					list-style-type: none;
					display: flex;
					flex-wrap: wrap;
					gap: 1em;
					padding: 0;
				}

				li {
					padding: 0;
				}
			}
		}
	}
}

//--------------------------------------------------------------
// Verse of the Day
//--------------------------------------------------------------
.ntt--entity-footer-aside {

	.ntt--page--footer {

		.ntt--page--verse-of-the-day {
			margin-top: 3em;

			@include media(laptop) {
				margin-top: 2em;
			}

			.ntt--entry-name {
				font-size: 1em;

				a {
					color: var(--global--color-black);
				}
			}

			blockquote {
				margin: 0;
				font-size: 1em;
			}

			cite {
				font-size: .75em;
				text-transform: uppercase;
				color: var(--global--color-label-gray);
			}
		}
	}
}

//--------------------------------------------------------------
// About Us - Content Selector
//--------------------------------------------------------------
.ntt--page--about-us--view {	

	.ntt--page--vision-mission-values {

		.ntt--entry-name {
			display: none;
		}

		.content-selector {
			display: grid;
			grid-template:
			'nav1 nav2 nav3'
			'content . .'
			/ 1fr 1fr 1fr;
			padding: 0;
			
				@include media(laptop) {
					grid-template:
					'nav1 content'
					'nav2 .'
					'nav3 .' 1fr
					/ 80px auto;
					grid-column-gap: 2em;
				}

			.wp-block-group__inner-container {
				display: contents;
			}

			.wp-block-media-text {
				padding: 0;

				@include media(laptop) {
					padding: 2em;
					background: #FFFFFF;
					/* STLMI/Light Gray */

					border: 1px solid #F7F7F7;
					box-sizing: border-box;
					/* STLMI/Card Shadow */

					box-shadow: 0px 0px 9px rgba(0, 0, 0, 0.1);
					border-radius: 16px;
				}
			}

			.wp-block-media-text__media {
				align-self: auto;
			}

			.wp-block-media-text__content {

				p:first-of-type {
					
					@include media(tablet) {
						margin-top: 0;
					}
				}
			}

			.ntt--page {
				display: none;
				grid-area: content;
				grid-column: 1 / -1;

				@include media(laptop) {
					grid-row: 1 / -1;
					grid-column: auto;
				}
			}

			label {
				color: var(--global--color-green);
				white-space: nowrap;
				
				&:nth-of-type(1) {
					grid-area: nav1;
				}
				
				&:nth-of-type(2) {
					grid-area: nav2;
				}
				
				&:nth-of-type(3) {
					grid-area: nav3;
				}
			}
	
			[type=radio] {
				display: none;
				
				&:checked + label {
					font-weight: bold;
					color: var(--global--color-black);
					
					+ .ntt--page {
						display: block;
						margin-top: 1em;

						@include media(laptop) {
							margin-top: 0;
						}
					}
				}
			}
		}
	}
}

//--------------------------------------------------------------
// Ministries
//--------------------------------------------------------------
.ntt--page--ministries--view {	

	.ntt--page--ministries-directory {

		.ntt--entry-name {
			display: none;
		}

		.ntt--entry-content {

			> .card {
				margin-top: 2em;
			}
		}
	}
}

.ntt--page--bible-institute--view {

	.ntt--page--certificates-offered {

		> .ntt--entry-name {
			text-align: center;
		}

		.ntt--entry-content {
			display: flex;
			flex-wrap: wrap;
			gap: 1em 2em;
		}
	}
}

.ntt--page--stlmi-online-registration--view {

	.ntt--entry-header {
		display: block;

		.ntt--entry-breadcrumbs-nav,
		.ntt--comments-actions-snippet {
			display: none;
		}
	}
}

//--------------------------------------------------------------
// Outreaches
//--------------------------------------------------------------
.ntt--page--outreaches--view {

	.ntt--entry-full-content {

		.blocks-gallery-grid {
			display: flex;
			gap: 1rem;
		}

		.blocks-gallery-item {
			max-height: 240px;
			border-radius: var(--global--corner-radius-card-m);
			overflow: hidden;
		}
	}
	
	.ntt--page--outreaches-directory {

		.ntt--entry-content {
			display: flex;
			gap: 1rem;

			.wp-block-media-text {
				height: 240px;
			}

			.wp-block-media-text__media {
				border-radius: var(--global--corner-radius-card-m);
			}
		}
	}
}